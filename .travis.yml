if: tag IS blank

language: node_js

services: docker

node_js:
  - 9

cache:
  directories:
    - node_modules

stages:
  - release

before_install: export PATH=$PATH:$TRAVIS_BUILD_DIR/.scripts

jobs:
  include:
    - stage: release
      node: 9
      install: npm install --production
      script: npx semantic-release
      if: branch = master
      if: type IN (push)
